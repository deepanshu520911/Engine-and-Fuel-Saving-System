# ENGINE AND FUEL SAVING SYSTEM

## Challenge:-
* A) - ENGINE FAILURE:-
            
       - 1.OVERHEATING - 
If any vehicle is running with overheating issue and driver not observe that engine is started to getting overheated and won't stop vehicle even after crossing safe working temperature zone then, due to overheating issue engine can get seized or say failed. This type of engine failure may range from minor repairs to even complete engine failure in worst cases. Our cost of replacement of this type of failure is ranging from 50 Thousand INR upto 2 Lakh INR.

       - 2.ENGINE OIL LEAKAGE -
If due to leakages or due to may be some under chassis accident, engine oil starts to leaking and driver not observe that on time then, complete engine will be get seized or say failed. This type of failure requires complete engine replacement as majority of parts are badly hampered and are out of repairing. Our complete engine replacement costs us around 2 Lakhs INR.
             
* B) - VEHICLE AT IDEAL RPM FOR LONG HOURS - Another issue is with is due very big fleet size, keep the checking for any vehicle is standing in workshop or in parking area in engine start condition is tough and not consistent and also requires too much of dedicated manpower. Also there are times when, driver not turned off engine when not in use. These both issues wasted a lot of fuel which can be saved easily using right technology.
           
* C) - ALTERNATOR OVERCHARGING - Another is related with overcharging of alternator and if not stopped on time can cause premature battery failures, electronic components failure and in worse case may catch fire due to wiring system is not able to withstand this excessive voltage load.
           
* D) - NOT WORKING/BYPASSED NEUTRAL SENSOR - Another is related with self starter, when due to some reason, could be clutch life is over and clutch is failed when vehicle is in use. Driver many times take that vehicle back to workshop by starting the vehicle when its in gear(Beacuse due to clutch failure, gears won't engage after engine is started). This will puts massive amount of pressure to all electrical components of self starter and even on battery as well and thus they failed early on.
           
## SOLUTION:-

As most of failure are due to negligence and can be controlled easily. We designed a system to stop these failures. There are some sensors which are already fitted with standard engine assembly and are used to control emission and all this sensor data can be accessed using CAN PROTOCOL. We need following data from ECU to make system work and fool proof as well:-
1-ENGINE OIL TEMPERATURE
2-ENGINE OIL PRESSURE
3-COOLANT TEMPERATURE
4-ENIGNE RPM
5-ACCELERATOR POSITION
6-BATTERY VOLTAGE
7-NEUTRAL SENSOR
           
We need to fit an extra neutral sensor as exisiting sensor is of mechanical type and its life is very limited too and we are using a CONTACTLESS TYPE NEUTRAL SENSOR for this project.
Another is ENGINE OIL TEMPERATURE SENSOR because data of this sensor is not available with CAN PROTOCOL and ENGINE OIL PRESSURE SENSOR as this sensor is not attached with ECU and only provides reading to INSTRUMENT CLUSTER ONLY.
           
Intially we decoded CAN PROTOCOL first and calibirated its data accordingly, next start to read data from ENIGINE OIL PRESSURE SENSOR AND ENGINE OIL TEMPERATURE SENSOR using a 12 bit Analog to Digital Convertor and made calibiration accordingly. NEUTRAL SENSOR is connected via a mosfet circuit to provide feedback to microcontroller. Now a PCB is designed using MCP2515, TJA1050, MCP3204 12 bit ADC and a ATMEGA328P microcontroller, also other supported components are added to system like voltage regulators, capacitors, resistances, inductors, mosfets(To control self, ignition and isolator relays), diodes, tvs diodes, etc. A display is also used to show all information to driver. And system is designed such a way that if ground or power supply both are not present in system, system will not turned on or patially turned on and prevents from malfuncting, risk of components failure or other connected device or sensor failure. If any sensor is disconnected from system, a warning is displayed over screen and if left unattenede, system will stop engine after few minutes and won't allows engine to start unless that disconnected sensor is connected to system again.

* **A) ENGINE FAIL SAFE SYSTEM -**
     - **1.OVERHEATING -** Data from ENGINE OIL TEMPERATURE, COOLANT TEMPERATURE and ENGINE RPM SENSOR is used to stop failure due to overheating. If any reading coming from sensor is going out of its safe working limits, system will start to give warning onto display screen and also produce sound via buzzer attached with system and if driver won't stop vehicle and continue to driver, system will interven in and stop the vehicle automatically which thus safes engine from failure and won't allows to start engine again unless all sensors reading came back to its safe working zone limits. Safe working limit of COOLANT TEMPERATURE is 98 degree celsius. In case very heavy coolant leakages, system is not able to detect coolant temperatue correctly as coolant temperature sensor reading is depend on presence of coolant in engine and as no coolant is in engine, coolant temperature sensor reading is not reliable and due to this reason ENGINE OIL TEMPERATURE SENSOR reading is used which helps in above issue to find if engine has coolant or not. ENGINE RPM SENSOR is used to detect wheather engine is running or not and if engine is in motion and if temperature difference between both sensors are more than 15 degree celsius that means coolant is not available in engine and system will shows a warning onto display screen and within 30 seconds if engine is not halted by driver, system will cut-off ignition and engine will stops automatically which saves engine from failure. System will keeps engine off till both sensors readings difference not below 15 degree celsius.
     - **1.ENGINE OIL LEAKAGE -** Data from ENGINE OIL PRESSURE SENSOR and ENGINE RPM SENSOR is used to stop failure due to engine oil leakage. If oil pressure drops below 1.3 bar while engine in motion, this shows that engine oil level is low and system will show a warning onto display screen and buzzer sound too and if driver not responded towards that within 10 seconds, system will stop engine by switching off ignition supply of engine and thus protected from failure. "LOW OIL LEVEL WARNING" will continue to display on screen and only be resets after 10 minutes which allows driver to check engine oil level in that 10 minutes time. After 10 minutes engine can be started, but during cranking ignition supply still be stays off till, engine oil pressure detected by system is above safe limit zone and once system detectes oil pressure above safe limit, ignition will be turned on automatically and engine will start.

* **B) ENGINE AUTO SHUTDOWN FUNCTION -** Data from ENGINE RPM, ACCELERATOR POSITION and NEUTRAL SENSOR is used to shutdown engine if engine stays ideal for 5 minutes. Microcontroller internal counter is used to generate 5 minutes of time and shuts ignition off if ENGINE RPM stays in ideal rpm limit, no movement in NEUTRAL SENSOR is detected, and no movement is detected in ACCELERATOR POSITION SENSOR for 5 minutes. Another if ignition is stays ideal for next 15 minutes with above described parameters won't changed, then isolator supply will be turned off and system is also went to sleep after 1 minutes. To wake system up user need to move gear lever to any other position which toogles neutral sensor or can toggles ignition, self or isolator switches also.

* **C) ALTERNATOR OVERCHARGING PROTECTION -** Data from ENGINE RPM, BATTERY VOLTAGE is used to protect system from overcharging. Battery voltage above 28 volts is considered to be as overcharging and if found underovercharging condition, system will send a warning message onto display screen till overcharging issue is recitfied.

* **D) NEUTRAL SENSOR -** Data from NEUTRAL SENSOR is continously is used by system and when not in neutral, system don't allows engine to crank by turning off self relay and only allows to start when in neutral. To prevent from bypassing this system, system only allows to start engine when it detects working of neutral sensor by instructing the user to change gear from neutral to gear and then back to neutral, this will act as an toggling effect and ensures that neutral sensor is not bypassed and working well. Also stop this completely, system also monitors NEUTRAL SENSOR in between few seconds for toggling and if not found, a warning is shown on display screen to change gear to neutral and again as per your need change gears and if changed by user, warning beep will blows by system and if it not responded by user, then system will stop turns off ignition. And only allows ignition to work after successful toggling is detected.
